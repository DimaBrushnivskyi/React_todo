(this["webpackJsonpreact-starter-pack"]=this["webpackJsonpreact-starter-pack"]||[]).push([[0],{15:function(e,t,c){},16:function(e,t,c){},17:function(e,t,c){},18:function(e,t,c){"use strict";c.r(t);var n=c(0),o=c(1),a=c.n(o),l=c(9),r=c.n(l),s=(c(15),c(16),c(17),c(6)),i=c(3),u=c(2),d=c(4),j=c.n(d),b=a.a.memo((function(e){var t=e.todos,c=e.todo,a=e.setTodos,l=Object(o.useState)(!1),r=Object(u.a)(l,2),s=r[0],d=r[1],b=Object(o.useState)(c.title),f=Object(u.a)(b,2),m=f[0],O=f[1];return Object(n.jsxs)("li",{className:j()({completed:c.completed,editing:s}),children:[Object(n.jsxs)("div",{className:"view",children:[Object(n.jsx)("input",{type:"checkbox",className:"toggle",id:"toggle-view",value:m,onChange:function(){a(t.map((function(e){return e.id===c.id?Object(i.a)(Object(i.a)({},e),{},{completed:!e.completed}):e})))},checked:c.completed}),Object(n.jsx)("label",{onDoubleClick:function(){return d(!0)},children:c.title}),Object(n.jsx)("button",{onClick:function(){a(t.filter((function(e){return c.id!==e.id})))},type:"button",className:"destroy","data-cy":"deleteTodo"})]}),s&&Object(n.jsx)("input",{type:"text",className:"edit",id:"editTodo",onKeyUp:function(e){return function(e){"Enter"===e.key&&e.target.value.trim().length>0&&(O(e.target.value),a(t.map((function(t){return t.id===c.id?Object(i.a)(Object(i.a)({},t),{},{title:e.target.value}):t}))),d(!1),O("")),"Enter"===e.key&&0===e.target.value.trim().length&&a(t.filter((function(e){return e.id!==c.id}))),"Escape"===e.key&&d(!1)}(e)},onBlur:function(e){return function(e){e.target.value.length>0&&(O(e.target.value),a(t.map((function(t){return t.id===c.id?Object(i.a)(Object(i.a)({},t),{},{title:e.target.value}):t}))),d(!1),O("")),0===e.target.value.length&&d(!1)}(e)},autoFocus:s})]})})),f=a.a.memo((function(e){var t=e.todos,c=e.setTodos;return Object(n.jsx)("ul",{className:"todo-list","data-cy":"todosList",children:t.map((function(e){return Object(n.jsx)(b,{todo:e,setTodos:c,todos:t},e.id)}))})})),m=function(e){e.todos;var t=e.setFilter,c=Object(o.useState)(""),a=Object(u.a)(c,2),l=a[0],r=a[1],s=function(e){var c=e.currentTarget.textContent;r(c),t(c)};return Object(n.jsxs)("ul",{className:"filters",children:[Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"#/",className:j()({selected:"All"===l}),onClick:function(e){return s(e)},children:"All"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"#/active",onClick:function(e){return s(e)},className:j()({selected:"Active"===l}),children:"Active"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"#/completed",onClick:function(e){return s(e)},className:j()({selected:"Completed"===l}),children:"Completed"})})]})},O=function(e){var t=e.setTodos,c=Object(o.useState)(""),a=Object(u.a)(c,2),l=a[0],r=a[1];return Object(n.jsx)("form",{onSubmit:function(e){if(e.preventDefault(),l){var c={id:+new Date,title:l,completed:!1};t((function(e){return[].concat(Object(s.a)(e),[c])})),r("")}},children:Object(n.jsx)("input",{type:"text",className:"new-todo",placeholder:"Stuff which needs to be done","data-cy":"createTodo",value:l,onChange:function(e){return r(e.target.value)}})})},h=a.a.memo((function(){var e=Object(o.useState)([]),t=Object(u.a)(e,2),c=t[0],a=t[1],l=Object(o.useState)(!0),r=Object(u.a)(l,2),d=r[0],j=r[1],b=Object(o.useState)("All"),h=Object(u.a)(b,2),p=h[0],g=h[1],x="Completed",v="Active",N=Object(o.useMemo)((function(){switch(p){case x:return c.filter((function(e){return e.completed}));case v:return c.filter((function(e){return!e.completed}));default:return c}}),[p,c]);Object(o.useEffect)((function(){null===localStorage.getItem("todos")?localStorage.setItem("todos",JSON.stringify([])):a(JSON.parse(localStorage.getItem("todos")))}),[]),Object(o.useEffect)((function(){localStorage.setItem("todos",JSON.stringify(c))}),[c,p]);var y=Object(s.a)(N).filter((function(e){return!e.completed})).length,k="".concat(y," items left"),S=Object(s.a)(N).filter((function(e){return e.completed}));return Object(n.jsxs)("section",{className:"todoapp",children:[Object(n.jsxs)("header",{className:"header",children:[Object(n.jsx)("h1",{children:"React Todo"}),Object(n.jsx)(O,{setTodos:a})]}),Object(n.jsxs)("section",{className:"main",children:[Object(n.jsx)("input",{type:"checkbox",id:"toggle-all",className:"toggle-all","data-cy":"toggleAll",onChange:function(){j((function(e){return!e})),a(c.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{completed:d})})))},checked:S.length>0}),Object(n.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"}),Object(n.jsx)(f,{todos:N,setTodos:a})]}),c.length>0&&Object(n.jsxs)("footer",{className:"footer",children:[Object(n.jsx)("span",{className:"todo-count","data-cy":"todosCounter",children:k}),Object(n.jsx)(m,{todos:N,setFilter:g}),S.length>0&&Object(n.jsx)("button",{type:"button",className:"clear-completed",onClick:function(){a(c.filter((function(e){return!e.completed})))},children:"Clear completed"})]})]})}));var p=function(){return Object(n.jsx)(h,{})};r.a.render(Object(n.jsx)(p,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.3f90be86.chunk.js.map